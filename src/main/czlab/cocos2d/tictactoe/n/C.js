/*Auto generated by Kirby v1.0.0 - Wed Jan 24 2018 23:55:25 GMT-0800 (PST)
  czlab.fusilli.ttt.C
{}
*/

const k = require("kirby");
const merge = k["merge"];
const kirbystdlibref = require("kirby");
const __module_namespace__ = "czlab.fusilli.ttt.C";
const BD_SZ = 3;
const GD_SZ = (BD_SZ * BD_SZ);
//Stores the grid values and the set of winning goals
class Grid extends ecs.Component {
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [constructor] in file: C.ky, line: 22
  constructor(seed) {
    (this["goals"] = mapGoalSpace(), this["tpid"] = "czlab.fusilli.ttt.C/Grid", this["vals"] = Array.prototype.slice.call(seed));
    return this;
  }
}
class Player extends ecs.CStats {
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [constructor] in file: C.ky, line: 31
  constructor(category, value, id) {
    super(value);
    (this["tpid"] = "czlab.fusilli.ttt.C/Player", this["color"] = "", this["pidlong"] = "", this["pid"] = "", this["id"] = 0, this["category"] = category, this["pnum"] = id);
    return this;
  }
}
class Players extends ecs.Component {
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [constructor] in file: C.ky, line: 42
  constructor() {
    (this["parr"] = [null, null, null], this["tpid"] = "czlab.fusilli.ttt.C/Players");
    return this;
  }
}
class CSquare extends ecs.CPixie {
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [constructor] in file: C.ky, line: 50
  constructor(cell) {
    (this["cell"] = cell, this["png"] = "z", this["value"] = 0);
    return this;
  }
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [create] in file: C.ky, line: 53
  static create(cell) {
    return (function() {
      let GS__3 = new CSquare(cell);
      GS__3.initWithSpriteFrameName("z.png");
      return GS__3;
    }).call(this);
  }
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [toggle] in file: C.ky, line: 57
  toggle(nv) {
    let x = XConfig.cstVal("CV_X");
    let o = XConfig.cstVal("CV_O");
    return ((this.value === 0) ?
      (function() {
        if ( (nv === x) ) {
          (
          this["png"] = "x");
        }
        if ( (nv === o) ) {
          (
          this["png"] = "o");
        }
        (this["value"] = nv);
        return this.setSpriteFrame([png, ".png"].join(""));
      }).call(this) :
      null);
  }
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [flip] in file: C.ky, line: 66
  flip() {
    return ((this.value !== 0) ?
      this.setSpriteFrame([png, ".i.png"].join("")) :
      null);
  }
}
class CSquares extends ecs.Component {
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [constructor] in file: C.ky, line: 73
  constructor() {
    (this["boxes"] = [], this["sqs"] = [], this["tpid"] = "czlab.fusilli.ttt.C/CSquares");
    return this;
  }
}
class CellPos extends ecs.Component {
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [constructor] in file: C.ky, line: 81
  constructor() {
    (this["cell"] = -1, this["px"] = -1, this["py"] = -1, this["tpid"] = "czlab.fusilli.ttt.C/CellPos");
    return this;
  }
}
class GVars extends ecs.Component {
  ////////////////////////////////////////////////////////////////////////////////
  //fn: [constructor] in file: C.ky, line: 87
  constructor() {
    (this["pnum"] = -1, this["lastWinner"] = -1, this["tpid"] = "czlab.fusilli.ttt.C/GVars");
    return this;
  }
}
module.exports = {
  da57bc0172fb42438a11e6e8778f36fb: {
    ns: "czlab.fusilli.ttt.C",
    macros: {}
  },
  BD_SZ: BD_SZ,
  GD_SZ: GD_SZ,
  Grid: Grid,
  Player: Player,
  Players: Players,
  CSquare: CSquare,
  CSquares: CSquares,
  CellPos: CellPos,
  GVars: GVars
};